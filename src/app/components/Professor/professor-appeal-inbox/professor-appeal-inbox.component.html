<!-- Main Content Section -->
<div class="content" *ngIf="!noAppeals">
  <!-- Left Pane (List of Appeals) -->
  <div class="inbox" *ngIf="fetchedAppeals">
    <div
      class="inbox-item"
      *ngFor="let appeal of professorAppeals"
      (click)="selectAppeal(appeal)"
      [class.selected-appeal]="appeal === currentAppeal"
    >
      <p matLine class="inbox-timestamp">
        {{ localFormatTimestamp(appeal.created_at).date }} <br />
        {{ localFormatTimestamp(appeal.created_at).time }}
      </p>
      <p class="inbox-name" matLine>
        {{ appeal.student_first_name }}
        {{ appeal.student_last_name }}
        {{ appeal.assignment_name }}
      </p>
    </div>
  </div>

  <!-- Right Pane (Selected Appeal Details) -->
  <div class="right-pane">
    <div *ngIf="!professorAppeals; else elseBlock" class="placeholder-text">
      Select an appeal to view details.
    </div>
    <ng-template #elseBlock>
      <div *ngIf="fetchedAppeals" class="appeal-wrapper">
        <mat-card class="appeal">
          <h2 class="appeal-header">
            <img class="inbox-avatar" ngxGravatar [email]="email" />
            <p>
              {{ currentAppeal.student_first_name }}
              {{ currentAppeal.student_last_name }}:
              {{ currentAppeal.assignment_name }}
            </p>
          </h2>
          <p>
            <strong>Course:</strong>
              {{ currentAppeal.course_prefix }}-{{ currentAppeal.course_code }}-{{ currentAppeal.course_section }}
              {{ currentAppeal.course_semester }}-{{ currentAppeal.course_year }}
              <i>{{ currentAppeal.course_name }}</i>
          </p>

          <mat-card class="message-container">
            <p class="message">{{ currentAppeal.appeal_text }}</p>
          </mat-card>
          <div class="buttons">
            <button
              class="chat"
              (click)="
                navigateTo(
                  'professor/interaction-history/' +
                    this.currentAppeal.appeal_id
                )
              "
              mat-stroked-button
              accent
            >
              <p class="button-text">Chat</p>
            </button>
            <button
              (click)="onCloseAppeal($event)"
              class="close-appeal"
              mat-stroked-button
            >
              <p clas="button-text">Close Appeal</p>
            </button>
          </div>
        </mat-card>
      </div>
    </ng-template>
  </div>
</div>
<div class="empty-inbox" *ngIf="noAppeals">
  <h1>No appeals have beeen initiated</h1>
  <h2>Please check back later</h2>
</div>
